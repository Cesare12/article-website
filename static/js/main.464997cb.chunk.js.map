{"version":3,"sources":["components/Header/logo.png","components/Header/index.js","components/Login/index.js","containers/List/index.js","containers/Vip/index.js","containers/Detail/index.js","index.js"],"names":["AppHeader","props","state","list","fetch","then","response","json","myJson","setState","data","this","map","item","Item","to","id","title","src","logo","alt","className","mode","getList","Component","Login","login","visible","user","password","showModal","bind","handleUser","handlePassword","checkLogin","logOut","e","target","value","url","credentials","message","success","error","logout","history","push","type","onClick","style","marginLeft","onOk","onCancel","placeholder","onChange","marginBottom","withRouter","PageList","background","bordered","dataSource","renderItem","match","params","prevProps","Vip","Detail","content","dangerouslySetInnerHTML","__html","Header","Layout","Footer","Content","App","minWidth","height","path","component","List","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.464997cb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.31e4f528.png\";","import React, { Component } from 'react'\nimport logo from './logo.png'\nimport './style.css'\nimport { Menu } from 'antd';\nimport { Link } from 'react-router-dom'\n\nclass AppHeader extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list: []\n        }\n    }\n\n    componentDidMount() {\n        fetch('http://www.dell-lee.com/react/api/header.json')\n            .then(function (response) {\n                return response.json();\n            })\n            .then((myJson) => {\n                // console.log(myJson);\n                this.setState({\n                    list: myJson.data\n                })\n            });\n\n    }\n\n    getList() {\n        return this.state.list.map((item) => {\n            return (\n                <Menu.Item key={item.id} >\n                    <Link to={`/${item.id}`}>{item.title}</Link>\n                </Menu.Item>\n            )\n        })\n    }\n\n    render() {\n        return (\n            <>\n                <Link to={'/'}>\n                    <img src={logo} alt=\"logo\" className=\"header-logo\" />\n                </Link>\n                <Menu className=\"header-menu\" mode=\"horizontal\">\n                    {this.getList()}\n                </Menu>\n            </>\n        )\n    }\n}\n\nexport default AppHeader","import './style.css'\nimport React, { Component } from 'react'\nimport { Modal, Button, Input, message } from 'antd';\nimport { Link, withRouter } from 'react-router-dom'\n\nclass Login extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            login: false,\n            visible: false,\n            user: null,\n            password: null\n        }\n        this.showModal = this.showModal.bind(this)\n        this.handleUser = this.handleUser.bind(this)\n        this.handlePassword = this.handlePassword.bind(this)\n        this.checkLogin = this.checkLogin.bind(this)\n        this.logOut = this.logOut.bind(this)\n    }\n\n    showModal() {\n        this.setState({\n            visible: true\n        })\n    }\n\n    handleUser(e) {\n        this.setState({\n            user: e.target.value\n        })\n    }\n\n    handlePassword(e) {\n        this.setState({\n            password: e.target.value\n        })\n    }\n\n    checkLogin() {\n        const { user, password } = this.state;\n        const url = `http://www.dell-lee.com/react/api/login.json?user=${user}&password=${password}`;\n        fetch(url, {\n            credentials: 'include'\n        })\n            .then(function (response) {\n                return response.json();\n            })\n            .then((myJson) => {\n                const login = myJson.data.login;\n\n                if (login) {\n                    message.success('登陆成功');\n                    this.setState({\n                        visible: false,\n                        login: true\n                    })\n                } else {\n                    message.error('登陆失败');\n                }\n            });\n    }\n\n    logOut() {\n        //server logout\n        const url = 'http://www.dell-lee.com/react/api/logout.json';\n        fetch(url, {\n            credentials: 'include'\n        })\n            .then(function (response) {\n                return response.json();\n            }).then(myJson => {\n                if (myJson.data.logout) {\n                    this.setState({\n                        login: false\n                    })\n                    this.props.history.push('/')\n                }\n            })\n    }\n\n    render() {\n        const { login } = this.state;\n        return (\n            <>\n                <div className=\"login\">\n                    {login ?\n                        <Button type=\"primary\" onClick={this.logOut}>退出</Button> :\n                        <Button type=\"primary\" onClick={this.showModal}>登陆</Button>\n                    }\n                    {\n                        <Link to= {login ? '/vip' : '/'}>\n                            <Button \n                                type=\"primary\"\n                                style={{ marginLeft: 10 }}\n                            >\n                                VIP\n                            </Button>\n                        </Link>\n                    }\n                </div>\n\n                <Modal title=\"登陆\"\n                    visible={this.state.visible}\n                    onOk={this.checkLogin}\n                    onCancel={() => {\n                        this.setState({\n                            visible: false\n                        })\n                    }}>\n                    <Input\n                        placeholder=\"请输入账户名\"\n                        onChange={this.handleUser}\n                        style={{ marginBottom: 10 }}\n                    />\n                    <Input\n                        placeholder=\"请输入密码\"\n                        onChange={this.handlePassword}\n                    />\n                </Modal>\n            </>\n\n        )\n    }\n\n    componentDidMount() {\n        // check server isLogin\n        fetch(('http://www.dell-lee.com/react/api/isLogin.json'), {\n            credentials: 'include'\n        })\n            .then(function (response) {\n                return response.json();\n            })\n            .then((myJson) => {\n                const login = myJson.data.login;\n                this.setState({ login })\n            });\n    }\n}\n\nexport default withRouter(Login)","import React, { Component } from 'react'\nimport { List } from 'antd';\nimport { Link } from 'react-router-dom'\n\nclass PageList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: []\n        }\n    }\n\n    render() {\n        // console.log(this.state.data)\n        return (\n            <List\n                style={{ background: '#fff' }}\n                bordered\n                dataSource={this.state.data}\n                renderItem={item => (\n                    <Link to={`/detail/${item.id}`}>\n                        <List.Item>{item.title}</List.Item>\n                    </Link>\n                )}\n            />\n        )\n    }\n\n    componentDidMount() {\n        let url = 'http://www.dell-lee.com/react/api/list.json';\n        const id = this.props.match.params.id;\n        if (id) {\n            url = url + '?id=' + id;\n        }\n        fetch(url)\n            .then(function (response) {\n                return response.json();\n            })\n            .then((myJson) => {\n                this.setState({\n                    data: myJson.data\n                })\n            });\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.match.params.id !== prevProps.match.params.id) {\n            let url = 'http://www.dell-lee.com/react/api/list.json';\n            const id = this.props.match.params.id;\n            if (id) {\n                url = url + '?id=' + id;\n            }\n            fetch(url)\n                .then(function (response) {\n                    return response.json();\n                })\n                .then((myJson) => {\n                    this.setState({\n                        data: myJson.data\n                    })\n                });\n        }\n    }\n\n}\nexport default PageList","import React from 'react'\nimport './style.css'\n\nconst Vip = () => {\n    return <div className=\"vip\">Hello VIP</div>\n}\n\nexport default Vip","import React, { Component } from 'react';\nimport { Card } from 'antd';\nimport './style.css'\n\nclass Detail extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\ttitle: '',\n\t\t\tcontent: ''\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Card title={this.state.title} >\n\t\t\t\t<p className=\"detail\" dangerouslySetInnerHTML={{__html:this.state.content}}></p>\n\t\t\t</Card>\n\t\t)\n\t}\n\n\tcomponentDidMount() {\n\t\tlet url = 'http://www.dell-lee.com/react/api/detail.json';\n\t\tconst id = this.props.match.params.id;\n\n\t\tfetch(url + '?id=' + id)\n\t\t\t.then(function (response) {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((myJson) => {\n\t\t\t\tconst data = myJson.data;\n\t\t\t\tthis.setState(data)\n\t\t\t});\n\t}\n}\n\nexport default Detail;\n\n","import React, { Component } from 'react';\nimport ReactDom from 'react-dom';\nimport { Layout } from 'antd';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport AppHeader from './components/Header/';\nimport Login from './components/Login/'\nimport List from './containers/List/';\nimport Vip from './containers/Vip/'\nimport Detail from './containers/Detail/';\nimport 'antd/dist/antd.css';\nimport './style.css';\n\nconst { Header, Footer, Content } = Layout;\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Layout style={{ minWidth: 1260, height: '100%' }}>\n          <Header className=\"header\">\n            <AppHeader />\n          </Header>\n          <Content className=\"content\">\n            <Login />\n            <Switch>\n              <Route path='/vip' component={Vip} />\n              <Route path='/detail/:id' component={Detail} />\n              <Route path='/:id?' component={List} />\n            </Switch>\n          </Content>\n          <Footer className=\"footer\">@copyright Dell-Lee 2021</Footer>\n        </Layout>\n      </BrowserRouter>\n    )\n  }\n}\n\n\nReactDom.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}